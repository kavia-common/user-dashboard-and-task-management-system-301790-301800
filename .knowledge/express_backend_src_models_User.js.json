{"is_source_file": true, "format": "JavaScript (Node.js, Mongoose)", "description": "This file defines the Mongoose schema and model for user data, including fields such as email, password, name, and bio. It also includes middleware to hash passwords before saving and methods for password comparison and sanitizing user objects for external use.", "external_files": ["bcrypt"], "external_methods": ["bcrypt.genSalt", "bcrypt.hash", "bcrypt.compare"], "published": ["User"], "classes": [{"name": "userSchema", "description": "Mongoose schema defining structure, validation, and hooks for User documents."}], "methods": [{"name": "comparePassword(candidatePassword)", "description": "Compares a given plaintext password with the hashed password stored in the database.", "scope": "userSchema.methods", "scopeKind": "function"}, {"name": "toJSON()", "description": "Returns the user object without sensitive fields such as password for safe external use.", "scope": "userSchema.methods", "scopeKind": "function"}, {"name": "AnonymousFunction4d4ffb350100(next)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["bcrypt.genSalt", "bcrypt.hash", "bcrypt.compare"], "search-terms": ["User schema", "password hashing", "pre save hook", "Mongoose model", "User methods"], "state": 2, "file_id": 14, "knowledge_revision": 44, "git_revision": "23126d3e4574b8dfc81070eaf3962657db7a741c", "ctags": [{"_type": "tag", "name": "AnonymousFunction4d4ffb350100", "path": "/home/kavia/workspace/code-generation/user-dashboard-and-task-management-system-301790-301800/express_backend/src/models/User.js", "pattern": "/^userSchema.pre('save', async function(next) {$/", "language": "JavaScript", "kind": "function", "signature": "(next)"}, {"_type": "tag", "name": "bcrypt", "path": "/home/kavia/workspace/code-generation/user-dashboard-and-task-management-system-301790-301800/express_backend/src/models/User.js", "pattern": "/^const bcrypt = require('bcrypt');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "comparePassword", "path": "/home/kavia/workspace/code-generation/user-dashboard-and-task-management-system-301790-301800/express_backend/src/models/User.js", "pattern": "/^userSchema.methods.comparePassword = async function(candidatePassword) {$/", "language": "JavaScript", "kind": "function", "signature": "(candidatePassword)", "scope": "userSchema.methods", "scopeKind": "function"}, {"_type": "tag", "name": "mongoose", "path": "/home/kavia/workspace/code-generation/user-dashboard-and-task-management-system-301790-301800/express_backend/src/models/User.js", "pattern": "/^const mongoose = require('mongoose');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "toJSON", "path": "/home/kavia/workspace/code-generation/user-dashboard-and-task-management-system-301790-301800/express_backend/src/models/User.js", "pattern": "/^userSchema.methods.toJSON = function() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "userSchema.methods", "scopeKind": "function"}, {"_type": "tag", "name": "userSchema", "path": "/home/kavia/workspace/code-generation/user-dashboard-and-task-management-system-301790-301800/express_backend/src/models/User.js", "pattern": "/^const userSchema = new mongoose.Schema({$/", "language": "JavaScript", "kind": "constant"}], "hash": "2165e128c2961395be85756b8ddf8d1f", "format-version": 4, "code-base-name": "express_backend", "filename": "express_backend/src/models/User.js", "revision_history": [{"44": "23126d3e4574b8dfc81070eaf3962657db7a741c"}]}